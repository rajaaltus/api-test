(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{179:function(t,e,a){},180:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),r=a(83),c=a.n(r),s=a(8),o=a(9),l=a(11),p=a(10),u=a(6),m=a(12),h=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t=this;return i.a.createElement("select",{className:"Product__option",name:this.props.option.name,key:this.props.option.name,onChange:this.props.handleOptionChange},this.props.option.values.map(function(e){return i.a.createElement("option",{value:e,key:"".concat(t.props.option.name,"-").concat(e)},"".concat(e))}))}}]),e}(n.Component),d=function(t){function e(t){var a;Object(s.a)(this,e),a=Object(l.a)(this,Object(p.a)(e).call(this,t));var n={};return a.props.product.options.forEach(function(t){n[t.name]=t.values[0].value}),a.state={selectedOptions:n},a.handleOptionChange=a.handleOptionChange.bind(Object(u.a)(a)),a.handleQuantityChange=a.handleQuantityChange.bind(Object(u.a)(a)),a.findImage=a.findImage.bind(Object(u.a)(a)),a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"findImage",value:function(t,e){var a=t[0];return(t.filter(function(t){return t.variant_ids.includes(e)})[0]||a).src}},{key:"handleOptionChange",value:function(t){var e=t.target,a=this.state.selectedOptions;a[e.name]=e.value;var n=this.props.client.product.helpers.variantForOptions(this.props.product,a);this.setState({selectedVariant:n,selectedVariantImage:n.attrs.image})}},{key:"handleQuantityChange",value:function(t){this.setState({selectedVariantQuantity:t.target.value})}},{key:"render",value:function(){var t=this,e=this.state.selectedVariantImage||this.props.product.images[0],a=this.state.selectedVariant||this.props.product.variants[0],n=this.state.selectedVariantQuantity||1,r=this.props.product.options.map(function(e){return i.a.createElement(h,{handleOptionChange:t.handleOptionChange,key:e.id.toString(),option:e})});return i.a.createElement("div",{className:"Product"},this.props.product.images.length?i.a.createElement("img",{src:e.src,alt:"".concat(this.props.product.title," product shot")}):null,i.a.createElement("h5",{className:"Product__title"},this.props.product.title),i.a.createElement("span",{className:"Product__price"},"$",a.price),r,i.a.createElement("label",{className:"Product__option"},"Quantity",i.a.createElement("input",{min:"1",type:"number",defaultValue:n,onChange:this.handleQuantityChange})),i.a.createElement("button",{className:"Product__buy button",onClick:function(){return t.props.addVariantToCart(a.id,n)}},"Add to Cart"))}}]),e}(n.Component),C=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t=this,e=this.props.products.map(function(e){return i.a.createElement(d,{addVariantToCart:t.props.addVariantToCart,client:t.props.client,key:e.id.toString(),product:e})});return i.a.createElement("div",{className:"Product-wrapper"},e)}}]),e}(n.Component),v=function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(l.a)(this,Object(p.a)(e).call(this,t))).decrementQuantity=a.decrementQuantity.bind(Object(u.a)(a)),a.incrementQuantity=a.incrementQuantity.bind(Object(u.a)(a)),a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"decrementQuantity",value:function(t){var e=this.props.line_item.quantity-1;this.props.updateQuantityInCart(t,e)}},{key:"incrementQuantity",value:function(t){var e=this.props.line_item.quantity+1;this.props.updateQuantityInCart(t,e)}},{key:"render",value:function(){var t=this;return i.a.createElement("li",{className:"Line-item"},i.a.createElement("div",{className:"Line-item__img"},this.props.line_item.variant.image?i.a.createElement("img",{src:this.props.line_item.variant.image.src,alt:"".concat(this.props.line_item.title," product shot")}):null),i.a.createElement("div",{className:"Line-item__content"},i.a.createElement("div",{className:"Line-item__content-row"},i.a.createElement("div",{className:"Line-item__variant-title"},this.props.line_item.variant.title),i.a.createElement("span",{className:"Line-item__title"},this.props.line_item.title)),i.a.createElement("div",{className:"Line-item__content-row"},i.a.createElement("div",{className:"Line-item__quantity-container"},i.a.createElement("button",{className:"Line-item__quantity-update",onClick:function(){return t.decrementQuantity(t.props.line_item.id)}},"-"),i.a.createElement("span",{className:"Line-item__quantity"},this.props.line_item.quantity),i.a.createElement("button",{className:"Line-item__quantity-update",onClick:function(){return t.incrementQuantity(t.props.line_item.id)}},"+")),i.a.createElement("span",{className:"Line-item__price"},"$ ",(this.props.line_item.quantity*this.props.line_item.variant.price).toFixed(2)),i.a.createElement("button",{className:"Line-item__remove",onClick:function(){return t.props.removeLineItemInCart(t.props.line_item.id)}},"\xd7"))))}}]),e}(n.Component),_=function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(l.a)(this,Object(p.a)(e).call(this,t))).openCheckout=a.openCheckout.bind(Object(u.a)(a)),a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"openCheckout",value:function(){window.open(this.props.checkout.webUrl)}},{key:"render",value:function(){var t=this,e=this.props.checkout.lineItems.map(function(e){return i.a.createElement(v,{updateQuantityInCart:t.props.updateQuantityInCart,removeLineItemInCart:t.props.removeLineItemInCart,key:e.id.toString(),line_item:e})});return i.a.createElement("div",{className:"Cart ".concat(this.props.isCartOpen?"Cart--open":"")},i.a.createElement("header",{className:"Cart__header"},i.a.createElement("h2",null,"Your cart"),i.a.createElement("button",{onClick:this.props.handleCartClose,className:"Cart__close"},"\xd7")),i.a.createElement("ul",{className:"Cart__line-items"},e),i.a.createElement("footer",{className:"Cart__footer"},i.a.createElement("div",{className:"Cart-info clearfix"},i.a.createElement("div",{className:"Cart-info__total Cart-info__small"},"Subtotal"),i.a.createElement("div",{className:"Cart-info__pricing"},i.a.createElement("span",{className:"pricing"},"$ ",this.props.checkout.subtotalPrice))),i.a.createElement("div",{className:"Cart-info clearfix"},i.a.createElement("div",{className:"Cart-info__total Cart-info__small"},"Taxes"),i.a.createElement("div",{className:"Cart-info__pricing"},i.a.createElement("span",{className:"pricing"},"$ ",this.props.checkout.totalTax))),i.a.createElement("div",{className:"Cart-info clearfix"},i.a.createElement("div",{className:"Cart-info__total Cart-info__small"},"Total"),i.a.createElement("div",{className:"Cart-info__pricing"},i.a.createElement("span",{className:"pricing"},"$ ",this.props.checkout.totalPrice))),i.a.createElement("button",{className:"Cart__checkout button",onClick:this.openCheckout},"Checkout")))}}]),e}(n.Component),f=function(t){function e(){var t;return Object(s.a)(this,e),(t=Object(l.a)(this,Object(p.a)(e).call(this))).state={isCartOpen:!1,checkout:{lineItems:[]},products:[],shop:{}},t.handleCartClose=t.handleCartClose.bind(Object(u.a)(t)),t.addVariantToCart=t.addVariantToCart.bind(Object(u.a)(t)),t.updateQuantityInCart=t.updateQuantityInCart.bind(Object(u.a)(t)),t.removeLineItemInCart=t.removeLineItemInCart.bind(Object(u.a)(t)),t}return Object(m.a)(e,t),Object(o.a)(e,[{key:"componentWillMount",value:function(){var t=this;this.props.client.checkout.create().then(function(e){t.setState({checkout:e})}),this.props.client.product.fetchAll().then(function(e){t.setState({products:e})}),this.props.client.shop.fetchInfo().then(function(e){t.setState({shop:e})})}},{key:"addVariantToCart",value:function(t,e){var a=this;this.setState({isCartOpen:!0});var n=[{variantId:t,quantity:parseInt(e,10)}],i=this.state.checkout.id;return this.props.client.checkout.addLineItems(i,n).then(function(t){a.setState({checkout:t})})}},{key:"updateQuantityInCart",value:function(t,e){var a=this,n=this.state.checkout.id,i=[{id:t,quantity:parseInt(e,10)}];return this.props.client.checkout.updateLineItems(n,i).then(function(t){a.setState({checkout:t})})}},{key:"removeLineItemInCart",value:function(t){var e=this,a=this.state.checkout.id;return this.props.client.checkout.removeLineItems(a,[t]).then(function(t){e.setState({checkout:t})})}},{key:"handleCartClose",value:function(){this.setState({isCartOpen:!1})}},{key:"render",value:function(){var t=this;return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App__header"},!this.state.isCartOpen&&i.a.createElement("div",{className:"App__view-cart-wrapper"},i.a.createElement("button",{className:"App__view-cart",onClick:function(){return t.setState({isCartOpen:!0})}},"Cart")),i.a.createElement("div",{className:"App__title"},i.a.createElement("h1",null,this.state.shop.name,": React Example"),i.a.createElement("h2",null,this.state.shop.description))),i.a.createElement(C,{products:this.state.products,client:this.props.client,addVariantToCart:this.addVariantToCart}),i.a.createElement(_,{checkout:this.state.checkout,isCartOpen:this.state.isCartOpen,handleCartClose:this.handleCartClose,updateQuantityInCart:this.updateQuantityInCart,removeLineItemInCart:this.removeLineItemInCart}))}}]),e}(n.Component),b=a(84),y=a.n(b),E=(a(179),y.a.buildClient({storefrontAccessToken:"89b31bd7920137e015b3eccf093911b7",domain:"rshopping-la.myshopify.com"}));c.a.render(i.a.createElement(f,{client:E}),document.getElementById("root"))},85:function(t,e,a){t.exports=a(180)}},[[85,1,2]]]);
//# sourceMappingURL=main.4d1d989f.chunk.js.map